/* eslint-disable */

/*!
 * Ventus 0.2.1
 * Copyright © 2015 Ramón Lamana
 * http://www.rlamana.com
 */

!function(a,b){"function"==typeof define&&define.amd?define(["$"],b):a.Ventus=b(a.$)}(window?window:this,function(a){var b,c,d;return function(a){function l(a,b){var f,h,i,j,k,l,m,n,o,p,c=b&&b.split("/"),d=g.map,e=d&&d["*"]||{};if(a&&"."===a.charAt(0)&&b){for(c=c.slice(0,c.length-1),a=c.concat(a.split("/")),n=0;p=a[n];n++)if("."===p)a.splice(n,1),n-=1;else if(".."===p){if(1===n&&(".."===a[2]||".."===a[0]))return!0;n>0&&(a.splice(n-1,2),n-=2)}a=a.join("/")}if((c||e)&&d){for(f=a.split("/"),n=f.length;n>0;n-=1){if(h=f.slice(0,n).join("/"),c)for(o=c.length;o>0;o-=1)if(i=d[c.slice(0,o).join("/")],i&&(i=i[h])){j=i,k=n;break}if(j)break;!l&&e&&e[h]&&(l=e[h],m=n)}!j&&l&&(j=l,k=m),j&&(f.splice(0,k,j),a=f.join("/"))}return a}function m(b,c){return function(){return k.apply(a,i.call(arguments,0).concat([b,c]))}}function n(a){return function(b){return l(b,a)}}function o(a){return function(b){e[a]=b}}function p(b){if(f.hasOwnProperty(b)){var c=f[b];delete f[b],h[b]=!0,j.apply(a,c)}if(!e.hasOwnProperty(b))throw new Error("No "+b);return e[b]}function q(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=l(a.slice(0,e),b),a=a.slice(e+1),d=p(c),a=d&&d.normalize?d.normalize(a,n(b)):l(a,b)):a=l(a,b),{f:c?c+"!"+a:a,n:a,p:d}}function r(a){return function(){return g&&g.config&&g.config[a]||{}}}var j,k,e={},f={},g={},h={},i=[].slice;j=function(b,c,d,g){var j,k,l,n,s,t,i=[];if(g=g||b,"function"==typeof d){for(c=!c.length&&d.length?["require","exports","module"]:c,t=0;t<c.length;t++)if(s=q(c[t],g),l=s.f,"require"===l)i[t]=m(b);else if("exports"===l)i[t]=e[b]={},j=!0;else if("module"===l)k=i[t]={id:b,uri:"",exports:e[b],config:r(b)};else if(e.hasOwnProperty(l)||f.hasOwnProperty(l))i[t]=p(l);else if(s.p)s.p.load(s.n,m(g,!0),o(l),{}),i[t]=e[l];else if(!h[l])throw new Error(b+" missing "+l);n=d.apply(e[b],i),b&&(k&&k.exports!==a&&k.exports!==e[b]?e[b]=k.exports:n===a&&j||(e[b]=n))}else b&&(e[b]=d)},b=c=k=function(b,c,d,e){return"string"==typeof b?p(q(b,c).f):(b.splice||(g=b,c.splice?(b=c,c=d,d=null):b=a),c=c||function(){},e?j(a,b,c,d):setTimeout(function(){j(a,b,c,d)},15),k)},k.config=function(a){return g=a,k},d=function(a,b,c){b.splice||(c=b,b=[]),f[a]=[a,b,c]},d.amd={jQuery:!0}}(),d("almond",[],function(){}),function(a,b){"function"==typeof d&&d.amd?d("handlebars",[],b):"object"==typeof exports?module.exports=b():a.Handlebars=a.Handlebars||b()}(this,function(){var a=function(){"use strict";function b(a){this.string=a}var a;return b.prototype.toString=function(){return""+this.string},a=b}(),b=function(a){"use strict";function g(a){return d[a]}function h(a){for(var b=1;b<arguments.length;b++)for(var c in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],c)&&(a[c]=arguments[b][c]);return a}function l(a){return a instanceof c?a.toString():null==a?"":a?(a=""+a,f.test(a)?a.replace(e,g):a):a+""}function m(a){return!a&&0!==a||!(!k(a)||0!==a.length)}function n(a,b){return(a?a+".":"")+b}var b={},c=a,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=/[&<>"'`]/g,f=/[&<>"'`]/;b.extend=h;var i=Object.prototype.toString;b.toString=i;var j=function(a){return"function"==typeof a};j(/x/)&&(j=function(a){return"function"==typeof a&&"[object Function]"===i.call(a)});var j;b.isFunction=j;var k=Array.isArray||function(a){return!(!a||"object"!=typeof a)&&"[object Array]"===i.call(a)};return b.isArray=k,b.escapeExpression=l,b.isEmpty=m,b.appendContextPath=n,b}(a),c=function(){"use strict";function c(a,c){var d;c&&c.firstLine&&(d=c.firstLine,a+=" - "+d+":"+c.firstColumn);for(var e=Error.prototype.constructor.call(this,a),f=0;f<b.length;f++)this[b[f]]=e[b[f]];d&&(this.lineNumber=d,this.column=c.firstColumn)}var a,b=["description","fileName","lineNumber","message","name","number","stack"];return c.prototype=new Error,a=c}(),d=function(a,b){"use strict";function m(a,b){this.helpers=a||{},this.partials=b||{},n(this)}function n(a){a.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new e("Missing helper: '"+arguments[arguments.length-1].name+"'")}),a.registerHelper("blockHelperMissing",function(b,c){var e=c.inverse,f=c.fn;if(b===!0)return f(this);if(b===!1||null==b)return e(this);if(i(b))return b.length>0?(c.ids&&(c.ids=[c.name]),a.helpers.each(b,c)):e(this);if(c.data&&c.ids){var g=q(c.data);g.contextPath=d.appendContextPath(c.data.contextPath,c.name),c={data:g}}return f(b,c)}),a.registerHelper("each",function(a,b){if(!b)throw new e("Must pass iterator to #each");var k,l,c=b.fn,f=b.inverse,g=0,h="";if(b.data&&b.ids&&(l=d.appendContextPath(b.data.contextPath,b.ids[0])+"."),j(a)&&(a=a.call(this)),b.data&&(k=q(b.data)),a&&"object"==typeof a)if(i(a))for(var m=a.length;g<m;g++)k&&(k.index=g,k.first=0===g,k.last=g===a.length-1,l&&(k.contextPath=l+g)),h+=c(a[g],{data:k});else for(var n in a)a.hasOwnProperty(n)&&(k&&(k.key=n,k.index=g,k.first=0===g,l&&(k.contextPath=l+n)),h+=c(a[n],{data:k}),g++);return 0===g&&(h=f(this)),h}),a.registerHelper("if",function(a,b){return j(a)&&(a=a.call(this)),!b.hash.includeZero&&!a||d.isEmpty(a)?b.inverse(this):b.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers.if.call(this,b,{fn:c.inverse,inverse:c.fn,hash:c.hash})}),a.registerHelper("with",function(a,b){j(a)&&(a=a.call(this));var c=b.fn;if(d.isEmpty(a))return b.inverse(this);if(b.data&&b.ids){var e=q(b.data);e.contextPath=d.appendContextPath(b.data.contextPath,b.ids[0]),b={data:e}}return c(a,b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)}),a.registerHelper("lookup",function(a,b){return a&&a[b]})}var c={},d=a,e=b,f="2.0.0";c.VERSION=f;var g=6;c.COMPILER_REVISION=g;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};c.REVISION_CHANGES=h;var i=d.isArray,j=d.isFunction,k=d.toString,l="[object Object]";c.HandlebarsEnvironment=m,m.prototype={constructor:m,logger:o,log:p,registerHelper:function(a,b){if(k.call(a)===l){if(b)throw new e("Arg not supported with multiple helpers");d.extend(this.helpers,a)}else this.helpers[a]=b},unregisterHelper:function(a){delete this.helpers[a]},registerPartial:function(a,b){k.call(a)===l?d.extend(this.partials,a):this.partials[a]=b},unregisterPartial:function(a){delete this.partials[a]}};var o={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(a,b){if(o.level<=a){var c=o.methodMap[a];"undefined"!=typeof console&&console[c]&&console[c].call(console,b)}}};c.logger=o;var p=o.log;c.log=p;var q=function(a){var b=d.extend({},a);return b._parent=a,b};return c.createFrame=q,c}(b,c),e=function(a,b,c){"use strict";function j(a){var b=a&&a[0]||1,c=g;if(b!==c){if(b<c){var d=h[c],e=h[b];throw new f("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+d+") or downgrade your runtime to an older version ("+e+").")}throw new f("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+a[1]+").")}}function k(a,b){if(!b)throw new f("No environment passed to template");if(!a||!a.main)throw new f("Unknown template object: "+typeof a);b.VM.checkRevision(a.compiler);var c=function(c,d,g,h,i,j,k,l,m){i&&(h=e.extend({},h,i));var n=b.VM.invokePartial.call(this,c,g,h,j,k,l,m);if(null==n&&b.compile){var o={helpers:j,partials:k,data:l,depths:m};k[g]=b.compile(c,{data:void 0!==l,compat:a.compat},b),n=k[g](h,o)}if(null!=n){if(d){for(var p=n.split("\n"),q=0,r=p.length;q<r&&(p[q]||q+1!==r);q++)p[q]=d+p[q];n=p.join("\n")}return n}throw new f("The partial "+g+" could not be compiled when running in runtime-only mode")},d={lookup:function(a,b){for(var c=a.length,d=0;d<c;d++)if(a[d]&&null!=a[d][b])return a[d][b]},lambda:function(a,b){return"function"==typeof a?a.call(b):a},escapeExpression:e.escapeExpression,invokePartial:c,fn:function(b){return a[b]},programs:[],program:function(a,b,c){var d=this.programs[a],e=this.fn(a);return b||c?d=l(this,a,e,b,c):d||(d=this.programs[a]=l(this,a,e)),d},data:function(a,b){for(;a&&b--;)a=a._parent;return a},merge:function(a,b){var c=a||b;return a&&b&&a!==b&&(c=e.extend({},b,a)),c},noop:b.VM.noop,compilerInfo:a.compiler},g=function(b,c){c=c||{};var e=c.data;g._setup(c),!c.partial&&a.useData&&(e=o(b,e));var f;return a.useDepths&&(f=c.depths?[b].concat(c.depths):[b]),a.main.call(d,b,d.helpers,d.partials,e,f)};return g.isTop=!0,g._setup=function(c){c.partial?(d.helpers=c.helpers,d.partials=c.partials):(d.helpers=d.merge(c.helpers,b.helpers),a.usePartial&&(d.partials=d.merge(c.partials,b.partials)))},g._child=function(b,c,e){if(a.useDepths&&!e)throw new f("must pass parent depths");return l(d,b,a[b],c,e)},g}function l(a,b,c,d,e){var f=function(b,f){return f=f||{},c.call(a,b,a.helpers,a.partials,f.data||d,e&&[b].concat(e))};return f.program=b,f.depth=e?e.length:0,f}function m(a,b,c,d,e,g,h){var i={partial:!0,helpers:d,partials:e,data:g,depths:h};if(void 0===a)throw new f("The partial "+b+" could not be found");if(a instanceof Function)return a(c,i)}function n(){return""}function o(a,b){return b&&"root"in b||(b=b?i(b):{},b.root=a),b}var d={},e=a,f=b,g=c.COMPILER_REVISION,h=c.REVISION_CHANGES,i=c.createFrame;return d.checkRevision=j,d.template=k,d.program=l,d.invokePartial=m,d.noop=n,d}(b,c,d),f=function(a,b,c,d,e){"use strict";var f,g=a,h=b,i=c,j=d,k=e,l=function(){var a=new g.HandlebarsEnvironment;return j.extend(a,g),a.SafeString=h,a.Exception=i,a.Utils=j,a.escapeExpression=j.escapeExpression,a.VM=k,a.template=function(b){return k.template(b,a)},a},m=l();return m.create=l,m.default=m,f=m}(d,a,c,b,e);return f}),d("ventus/core/emitter",[],function(){"use strict";function a(a,b,c){return function(d){return(d.funct===a&&d.scope===b)===c}}function b(b,c,d,e){return!!b[c]&&b[c].some(a(d,e,!0))}function c(){this._listeners={}}return c.prototype={listenersCount:function(a){var b=this._listeners[a];return b?b.length:0},on:function(c,d,e){var f=this._listeners;b(f,c,d,e)||(f[c]||(f[c]=[]),f[c].push({funct:d,scope:e}))},off:function(c,d,e){var f=this._listeners[c];f&&(this._listeners[c]=f.filter(a(d,e,!1)))},once:function(c,d,e){b(this._listeners,c,d,e)||this.on(c,function a(){this.off(c,a,this),d.apply(e,arguments)},this)},emit:function(b){var c=this._listeners[b];if(c){var d=Array.prototype.slice.call(arguments,1);c.forEach(function(a){a.funct.apply(a.scope,d)})}},connect:function(b,c){if(b)for(var d in b)b.hasOwnProperty(d)&&this.on(d,b[d],c)},disconnect:function(b,c){if(b)for(var d in b)b.hasOwnProperty(d)&&this.off(d,b[d],c)}},c}),d("ventus/core/promise",[],function(){"use strict";function b(a,b,c){setTimeout(function(){a.apply(b,c)})}function c(a,b,c){var d="Error on "+a+" promise execution at index ["+c+"]";Error.call(this,d),this.child=b,this.index=c,this.message=d}function d(){this._future=new g}function e(a){return a.hasSucceed()}function f(a,b,d,e,h){return d+=1,d>=a.length?e.done(h):h instanceof g?void h.then(function(){f(a,b,d,e,a[d].apply(b,arguments))},function(a){e.fail(new c(" serial ",a,d))}):f(a,b,d,e,a[d].call(b,h))}function g(){this._args=null,this._fn={success:[],failed:[],finally:[]}}var a=Array.prototype.slice;return d.prototype={constructor:d,done:function(){var b=a.call(arguments);this.getFuture()._arrived("success",b)},fail:function(){var b=a.call(arguments);this.getFuture()._arrived("failed",b)},getFuture:function(){return this._future}},d.done=function(){var a=new d;return a.done.apply(a,arguments),a.getFuture()},d.failed=function(){var a=new d;return a.fail.apply(a,arguments),a.getFuture()},d.parallel=function(){return d.all(a.call(arguments))},d.all=function(b){if(!b||!b.length)return d.done();b=b.map(function(a){return a.getFuture?a.getFuture():a});var f=new d,g=[];return b.forEach(function(d,h){d.then(function(){g[h]=a.call(arguments),b.every(e)&&f.done.apply(f,g)},function(a){f.fail(new c("parallel",a,h))})}),f.getFuture()},d.serial=function(a,b){if(!a||0===a.length)return d.done();var c=new d;return setTimeout(function(){f(a,b,0,c,a[0].call(b))}),c.getFuture()},g.prototype={constructor:g,_add:function(a,c,d){return c?this._fn[a]===!0?b(c,d,this._args):this._fn[a]&&this._fn[a].push({callback:c,scope:d}):console.warn("No callback passed"),this},_arrived:function(a,b){function c(a){a.callback.apply(a.scope,b)}if(this.isCompleted())throw new Error("Future already arrived!");var d=this._fn[a].concat(this._fn.finally);this._fn={success:!1,failed:!1,finally:!0},this._args=b,this._fn[a]=!0,d.forEach(c)},isCompleted:function(){return this._fn.finally===!0},hasFailed:function(){return this._fn.failed===!0},hasSucceed:function(){return this._fn.success===!0},onDone:function(a,b){return this._add("success",a,b)},onError:function(a,b){return this._add("failed",a,b)},onFinally:function(a,b){return this._add("finally",a,b)},then:function(a,b,c){a&&this.onDone(a),b&&this.onError(b),c&&this.onFinally(c)},transform:function(a){var b=new d;return this.then(function(){var c=a.apply(null,arguments);c&&"array"===c.constructor||(c=[c]),b.done.apply(b,c)},function(){b.fail.apply(b,arguments)}),b.getFuture()}},d.PromiseError=c,d.Future=g,d}),d("ventus/core/view",["$"],function(a){"use strict";for(var b=/^(?:(.*)\s)?(\w+)$/,c="transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",d="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",e=["transform","transition","animation","transform-origin"],f=e.length;f--;)!function(b){a.cssHooks[b]={get:function(){return null},set:function(a,c){a.style["-webkit-"+b]=c,a.style["-moz-"+b]=c,a.style["-ms-"+b]=c,a.style["-o-"+b]=c,a.style[b]=c}}}(e[f]);return a.fn.extend({listen:function(a,c){var d,e,f,g;for(var h in a)if(a.hasOwnProperty(h)){if(d=a[h],e=h.match(b),f=e[1],g=e[2],"mousedown"===g?g+=" touchstart":"mousemove"===g?g+=" touchmove":"mouseup"===g?g+=" touchend":"click"===g&&(g+=" touchend"),"string"==typeof d&&(d=c[d]),!d)throw new Error("Handler not found");f?this.on(g,f,d.bind(c)):this.on(g,d.bind(c))}return this},onTransitionEnd:function(a,b){this.one(c,function(){a.apply(b||this)})},onAnimationEnd:function(a,b){this.one(d,function(){a.apply(b||this)})}}),function(b){return"function"==typeof b?function(c){return a(b(c||{}))}:a(b)}}),d("ventus/tpl/window",["handlebars"],function(a){return a.template({compiler:[6,">= 2.0.0-beta.1"],main:function(a,b,c,d){var e,f="function",g=b.helperMissing,h=this.escapeExpression;return'<div class="wm-window '+h((e=null!=(e=b.classname||(null!=a?a.classname:a))?e:g,typeof e===f?e.call(a,{name:"classname",hash:{},data:d}):e))+'">\n\t<div class="wm-window-box">\n\t\t<header class="wm-window-title" unselectable="on">\n\t\t\t<h1 unselectable="on">'+h((e=null!=(e=b.title||(null!=a?a.title:a))?e:g,typeof e===f?e.call(a,{name:"title",hash:{},data:d}):e))+'</h1>\n\t\t\t<div class="wm-button-group">\n\t\t\t\t<button class="wm-minimize">&nbsp;</button>\n\t\t\t\t<button class="wm-maximize">&nbsp;</button>\n\t\t\t\t<button class="wm-close">&nbsp;</button>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<section class="wm-content"></section>\n\n\t\t<button class="wm-resize">&nbsp;</button>\n\t</div>\n\t<div class="wm-window-overlay"></div>\n</div>\n'},useData:!0})}),d("ventus/wm/window",["ventus/core/emitter","ventus/core/promise","ventus/core/view","ventus/tpl/window"],function(a,b,c,d){"use strict";function e(a){return!!window.TouchEvent&&a.originalEvent instanceof window.TouchEvent}function f(a){return e(a)?a.originalEvent.changedTouches[0]:a.originalEvent}var g=function(b){if(this.signals=new a,b=b||{title:"Untitle Window",width:400,height:200,x:0,y:0,content:"",movable:!0,resizable:!0,widget:!1,titlebar:!0},this.el=c(d({title:b.title,classname:b.classname||""})),this.el.listen(this.events.window,this),b.opacity&&this.el.css("opacity",b.opacity),b.events)for(var e in b.events)b.events.hasOwnProperty(e)&&"function"==typeof b.events[e]&&this.signals.on(e,b.events[e],this);this.$content=this.el.find(".wm-content"),b.content&&this.$content.append(b.content),this.$titlebar=this.el.find("header"),this.width=b.width||400,this.height=b.height||200,this.x=b.x||0,this.y=b.y||0,this.z=1e4,this.enabled=!0,this.active=!1,this.maximized=!1,this.minimized=!1,this._closed=!0,this._destroyed=!1,this.widget=!1,this.movable=!0,this.resizable="undefined"==typeof b.resizable||b.resizable,this.titlebar=!0};return g.prototype={_restore:null,_moving:null,_resizing:null,slots:{move:function(a){var b=f(a);this.enabled&&this.movable&&(this._moving=this.toLocal({x:b.pageX,y:b.pageY}),this.el.addClass("move"),a.preventDefault())}},events:{window:{click:function(a){this.signals.emit("select",this,a)},mousedown:function(a){this.focus(),this.widget&&this.slots.move.call(this,a)},".wm-content click":function(a){this.enabled&&this.signals.emit("click",this,a)},".wm-window-title mousedown":function(a){this.slots.move.call(this,a)},".wm-window-title dblclick":function(){this.enabled&&this.resizable&&this.maximize()},".wm-window-title button.wm-close click":function(a){a.stopPropagation(),a.preventDefault(),this.enabled&&this.close()},".wm-window-title button.wm-maximize click":function(a){a.stopPropagation(),a.preventDefault(),this.enabled&&this.resizable&&this.maximize()},".wm-window-title button.wm-minimize click":function(a){a.stopPropagation(),a.preventDefault(),this.enabled&&this.minimize()},".wm-window-title button mousedown":function(a){this.focus(),a.stopPropagation(),a.preventDefault()},"button.wm-resize mousedown":function(a){var b=f(a);this.enabled&&this.resizable&&(this._resizing={width:this.width-b.pageX,height:this.height-b.pageY},this.el.addClass("resizing"),a.preventDefault())}},space:{mousemove:function(a){var b=f(a);e(a)||1===a.which||(this._moving&&this._stopMove(),this._resizing&&this._stopResize()),this._moving&&this.move(b.pageX-this._moving.x,b.pageY-this._moving.y),this._resizing&&this.resize(b.pageX+this._resizing.width,b.pageY+this._resizing.height)},mouseup:function(){this._moving&&this._stopMove(),this._resizing&&this._stopResize()}}},_stopMove:function(){this.el.removeClass("move"),this._moving=null},_stopResize:function(){this.el.removeClass("resizing"),this._restore=null,this._resizing=null},set space(a){return a&&!a.listen?void console.error("The given space element is not a valid View"):(this._space=a,a.append(this.el),void a.listen(this.events.space,this))},get space(){return this._space},get maximized(){return this._maximized},set maximized(a){a?(this._restoreMaximized=this.stamp(),this.signals.emit("maximize",this,this._restoreMaximized)):this.signals.emit("restore",this,this._restoreMaximized),this._maximized=a},get minimized(){return this._minimized},set minimized(a){a?(this._restoreMinimized=this.stamp(),this.signals.emit("minimize",this,this._restoreMinimized)):this.signals.emit("restore",this,this._restoreMinimized),this._minimized=a},set active(a){a?(this.signals.emit("focus",this),this.el.addClass("active"),this.el.removeClass("inactive")):(this.signals.emit("blur",this),this.el.removeClass("active"),this.el.addClass("inactive")),this._active=a},get active(){return this._active},set enabled(a){a?this.el.removeClass("disabled"):this.el.addClass("disabled"),this._enabled=a},get enabled(){return this._enabled},set movable(a){this._movable=!!a},get movable(){return this._movable},set resizable(a){a?this.el.removeClass("noresizable"):this.el.addClass("noresizable"),this._resizable=!!a},get resizable(){return this._resizable},set closed(a){},get closed(){return this._closed},set destroyed(a){},get destroyed(){return this._destroyed},set widget(a){this._widget=a},get widget(){return this._widget},set titlebar(a){a?this.$titlebar.removeClass("hide"):this.$titlebar.addClass("hide"),this._titlebar=a},get titlebar(){return this._titlebar},set width(a){this.el.width(a)},get width(){return parseInt(this.el.width(),10)},set height(a){this.el.height(a)},get height(){return parseInt(this.el.height(),10)},set x(a){this.el.css("left",a)},set y(a){this.el.css("top",a)},get x(){return parseInt(this.el.css("left"),10)},get y(){return parseInt(this.el.css("top"),10)},set z(a){this.el.css("z-index",a)},get z(){return parseInt(this.el.css("z-index"),10)},open:function(){var a=new b;return this.signals.emit("open",this),this.el.show(),this.el.addClass("opening"),this.el.onAnimationEnd(function(){this.el.removeClass("opening"),a.done()},this),this._closed=!1,a},close:function(){var a=new b;return this.signals.emit("close",this),this.el.addClass("closing"),this.el.onAnimationEnd(function(){this.el.removeClass("closing"),this.el.addClass("closed"),this.el.hide(),this.signals.emit("closed",this),a.done()},this),this._closed=!0,a},destroy:function(){var a=function(){this.$content.html(""),this.signals.emit("destroyed",this),this._destroyed=!0}.bind(this);this.signals.emit("destroy",this),this.closed?a():this.close().then(function(){a()})},resize:function(a,b){return this.width=a,this.height=b,this},move:function(a,b){return this.x=a,this.y=b,this},stamp:function(){return this.restore=function(){var a={width:this.width,height:this.height},b={x:this.x,y:this.y};return function(){return this.resize(a.width,a.height),this.move(b.x,b.y),this}}.apply(this),this.restore},restore:function(){},maximize:function(){return this.el.addClass("maximazing"),this.el.onTransitionEnd(function(){this.el.removeClass("maximazing")},this),this.maximized=!this.maximized,this},minimize:function(){return this.el.addClass("minimizing"),this.el.onTransitionEnd(function(){this.el.removeClass("minimizing")},this),this.minimized=!this.minimized,this},focus:function(){return this.active=!0,this},blur:function(){return this.active=!1,this},toLocal:function(a){return{x:a.x-this.x,y:a.y-this.y}},toGlobal:function(a){return{x:a.x+this.x,y:a.y+this.y}},append:function(a){a.appendTo(this.$content)}},g}),d("ventus/wm/modes/default",[],function(){"use strict";var a={register:function(){console.log("Default mode registered.")},plug:function(){},unplug:function(){},actions:{maximize:function(a){a.move(0,0),a.el.css("-webkit-transform","translate3d(0, 0, 0);"),a.resize(this.el.width(),this.el.height())},restore:function(a,b){b.call(a)},minimize:function(a){a.resize(0,0)}}};return a}),function(){var a=this,b=a._,c={},d=Array.prototype,e=Object.prototype,f=Function.prototype,g=d.push,h=d.slice,i=d.concat,j=e.toString,k=e.hasOwnProperty,l=d.forEach,m=d.map,n=d.reduce,o=d.reduceRight,p=d.filter,q=d.every,r=d.some,s=d.indexOf,t=d.lastIndexOf,u=Array.isArray,v=Object.keys,w=f.bind,x=function(a){return a instanceof x?a:this instanceof x?void(this._wrapped=a):new x(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=x),exports._=x):a._=x,x.VERSION="1.4.4";var y=x.each=x.forEach=function(a,b,d){if(null!=a)if(l&&a.forEach===l)a.forEach(b,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(b.call(d,a[e],e,a)===c)return}else for(var g in a)if(x.has(a,g)&&b.call(d,a[g],g,a)===c)return};x.map=x.collect=function(a,b,c){var d=[];return null==a?d:m&&a.map===m?a.map(b,c):(y(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var z="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),n&&a.reduce===n)return d&&(b=x.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(y(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(z);return c},x.reduceRight=x.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),o&&a.reduceRight===o)return d&&(b=x.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=x.keys(a);f=g.length}if(y(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(z);return c},x.find=x.detect=function(a,b,c){var d;return A(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},x.filter=x.select=function(a,b,c){var d=[];return null==a?d:p&&a.filter===p?a.filter(b,c):(y(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},x.reject=function(a,b,c){return x.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},x.every=x.all=function(a,b,d){b||(b=x.identity);var e=!0;return null==a?e:q&&a.every===q?a.every(b,d):(y(a,function(a,f,g){return(e=e&&b.call(d,a,f,g))?void 0:c}),!!e)};var A=x.some=x.any=function(a,b,d){b||(b=x.identity);var e=!1;return null==a?e:r&&a.some===r?a.some(b,d):(y(a,function(a,f,g){return e||(e=b.call(d,a,f,g))?c:void 0}),!!e)};x.contains=x.include=function(a,b){return null!=a&&(s&&a.indexOf===s?a.indexOf(b)!=-1:A(a,function(a){return a===b}))},x.invoke=function(a,b){var c=h.call(arguments,2),d=x.isFunction(b);return x.map(a,function(a){return(d?b:a[b]).apply(a,c)})},x.pluck=function(a,b){return x.map(a,function(a){return a[b]})},x.where=function(a,b,c){return x.isEmpty(b)?c?null:[]:x[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},x.findWhere=function(a,b){return x.where(a,b,!0)},x.max=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&x.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},x.min=function(a,b,c){if(!b&&x.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&x.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return y(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;d.computed>g&&(d={value:a,computed:g})}),d.value},x.shuffle=function(a){var b,c=0,d=[];return y(a,function(a){b=x.random(c++),d[c-1]=d[b],d[b]=a}),d};var B=function(a){return x.isFunction(a)?a:function(b){return b[a]}};x.sortBy=function(a,b,c){var d=B(b);return x.pluck(x.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var C=function(a,b,c,d){var e={},f=B(b||x.identity);return y(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};x.groupBy=function(a,b,c){return C(a,b,c,function(a,b,c){(x.has(a,b)?a[b]:a[b]=[]).push(c)})},x.countBy=function(a,b,c){return C(a,b,c,function(a,b){x.has(a,b)||(a[b]=0),a[b]++})},x.sortedIndex=function(a,b,c,d){c=null==c?x.identity:B(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;e>c.call(d,a[h])?f=h+1:g=h}return f},x.toArray=function(a){return a?x.isArray(a)?h.call(a):a.length===+a.length?x.map(a,x.identity):x.values(a):[]},x.size=function(a){return null==a?0:a.length===+a.length?a.length:x.keys(a).length},x.first=x.head=x.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:h.call(a,0,b)},x.initial=function(a,b,c){return h.call(a,0,a.length-(null==b||c?1:b))},x.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:h.call(a,Math.max(a.length-b,0))},x.rest=x.tail=x.drop=function(a,b,c){return h.call(a,null==b||c?1:b)},x.compact=function(a){return x.filter(a,x.identity)};var D=function(a,b,c){return y(a,function(a){x.isArray(a)?b?g.apply(c,a):D(a,b,c):c.push(a)}),c};x.flatten=function(a,b){return D(a,b,[])},x.without=function(a){return x.difference(a,h.call(arguments,1))},x.uniq=x.unique=function(a,b,c,d){x.isFunction(b)&&(d=c,c=b,b=!1);var e=c?x.map(a,c,d):a,f=[],g=[];return y(e,function(c,d){(b?d&&g[g.length-1]===c:x.contains(g,c))||(g.push(c),f.push(a[d]))}),f},x.union=function(){return x.uniq(i.apply(d,arguments))},x.intersection=function(a){var b=h.call(arguments,1);return x.filter(x.uniq(a),function(a){return x.every(b,function(b){return x.indexOf(b,a)>=0})})},x.difference=function(a){var b=i.apply(d,h.call(arguments,1));return x.filter(a,function(a){return!x.contains(b,a)})},x.zip=function(){for(var a=h.call(arguments),b=x.max(x.pluck(a,"length")),c=Array(b),d=0;b>d;d++)c[d]=x.pluck(a,""+d);return c},x.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},x.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=x.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(s&&a.indexOf===s)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},x.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(t&&a.lastIndexOf===t)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},x.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);d>e;)f[e++]=a,a+=c;return f},x.bind=function(a,b){if(a.bind===w&&w)return w.apply(a,h.call(arguments,1));var c=h.call(arguments,2);return function(){return a.apply(b,c.concat(h.call(arguments)))}},x.partial=function(a){var b=h.call(arguments,1);return function(){return a.apply(this,b.concat(h.call(arguments)))}},x.bindAll=function(a){var b=h.call(arguments,1);return 0===b.length&&(b=x.functions(a)),y(b,function(b){a[b]=x.bind(a[b],a)}),a},x.memoize=function(a,b){var c={};return b||(b=x.identity),function(){var d=b.apply(this,arguments);return x.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},x.delay=function(a,b){var c=h.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},x.defer=function(a){return x.delay.apply(x,[a,1].concat(h.call(arguments,1)))},x.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},x.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},x.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},x.wrap=function(a,b){return function(){var c=[a];return g.apply(c,arguments),b.apply(this,c)}},x.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},x.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},x.keys=v||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)x.has(a,c)&&(b[b.length]=c);return b},x.values=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push(a[c]);return b},x.pairs=function(a){var b=[];for(var c in a)x.has(a,c)&&b.push([c,a[c]]);return b},x.invert=function(a){var b={};for(var c in a)x.has(a,c)&&(b[a[c]]=c);return b},x.functions=x.methods=function(a){var b=[];for(var c in a)x.isFunction(a[c])&&b.push(c);return b.sort()},x.extend=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},x.pick=function(a){var b={},c=i.apply(d,h.call(arguments,1));return y(c,function(c){c in a&&(b[c]=a[c])}),b},x.omit=function(a){var b={},c=i.apply(d,h.call(arguments,1));for(var e in a)x.contains(c,e)||(b[e]=a[e]);return b},x.defaults=function(a){return y(h.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},x.clone=function(a){return x.isObject(a)?x.isArray(a)?a.slice():x.extend({},a):a},x.tap=function(a,b){return b(a),a};var E=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof x&&(a=a._wrapped),b instanceof x&&(b=b._wrapped);var e=j.call(a);if(e!=j.call(b))return!1;switch(e){case"[object String]":return a==b+"";case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=E(a[g],b[g],c,d)););}else{var i=a.constructor,k=b.constructor;if(i!==k&&!(x.isFunction(i)&&i instanceof i&&x.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(x.has(a,l)&&(g++,
!(h=x.has(b,l)&&E(a[l],b[l],c,d))))break;if(h){for(l in b)if(x.has(b,l)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};x.isEqual=function(a,b){return E(a,b,[],[])},x.isEmpty=function(a){if(null==a)return!0;if(x.isArray(a)||x.isString(a))return 0===a.length;for(var b in a)if(x.has(a,b))return!1;return!0},x.isElement=function(a){return!(!a||1!==a.nodeType)},x.isArray=u||function(a){return"[object Array]"==j.call(a)},x.isObject=function(a){return a===Object(a)},y(["Arguments","Function","String","Number","Date","RegExp"],function(a){x["is"+a]=function(b){return j.call(b)=="[object "+a+"]"}}),x.isArguments(arguments)||(x.isArguments=function(a){return!(!a||!x.has(a,"callee"))}),"function"!=typeof/./&&(x.isFunction=function(a){return"function"==typeof a}),x.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},x.isNaN=function(a){return x.isNumber(a)&&a!=+a},x.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==j.call(a)},x.isNull=function(a){return null===a},x.isUndefined=function(a){return void 0===a},x.has=function(a,b){return k.call(a,b)},x.noConflict=function(){return a._=b,this},x.identity=function(a){return a},x.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},x.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};F.unescape=x.invert(F.escape);var G={escape:RegExp("["+x.keys(F.escape).join("")+"]","g"),unescape:RegExp("("+x.keys(F.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(a){x[a]=function(b){return null==b?"":(""+b).replace(G[a],function(b){return F[a][b]})}}),x.result=function(a,b){if(null==a)return null;var c=a[b];return x.isFunction(c)?c.call(a):c},x.mixin=function(a){y(x.functions(a),function(b){var c=x[b]=a[b];x.prototype[b]=function(){var a=[this._wrapped];return g.apply(a,arguments),L.call(this,c.apply(x,a))}})};var H=0;x.uniqueId=function(a){var b=++H+"";return a?a+b:b},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(a,b,c){var d;c=x.defaults({},c,x.templateSettings);var e=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(K,function(a){return"\\"+J[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=Function(c.variable||"obj","_",g)}catch(a){throw a.source=g,a}if(b)return d(b,x);var h=function(a){return d.call(this,a,x)};return h.source="function("+(c.variable||"obj")+"){\n"+g+"}",h},x.chain=function(a){return x(a).chain()};var L=function(a){return this._chain?x(a).chain():a};x.mixin(x),y(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=d[a];x.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],L.call(this,c)}}),y(["concat","join","slice"],function(a){var b=d[a];x.prototype[a]=function(){return L.call(this,b.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),d("underscore",[],function(){}),d("ventus/wm/modes/expose",["underscore"],function(a){"use strict";var b={register:function(){var b=this;console.log("Expose mode registered."),this.el.on("contextmenu",a.throttle(function(){return"expose"!==b.mode?b.windows.length>0&&(b.mode="expose"):"expose"===b.mode&&(b.mode="default"),!1},1e3))},plug:function(){var g,h,i,j,a=Math.floor,b=Math.ceil,c=this,d=b(this.windows.length/2),e=a(this.el.width()/d),f=a(this.el.height()/2);this.el.addClass("expose");for(var k,l=0,m=this.windows.length;l<m;l++)k=this.windows[l],k.stamp(),g=k.height>k.width?k.height>f?f/k.height:1:k.width>e?e/k.width:1,g-=.15,j={x:l%d*e,y:(l<d?0:1)*f},h=j.x+a((e-g*k.width)/2),i=j.y+a((f-g*k.height)/2),k.enabled=!1,k.movable=!1,k.el.addClass("exposing"),k.el.css("transform-origin","0 0"),k.el.css("transform","scale("+g+")"),k.el.css("top",i),k.el.css("left",h),k.el.onTransitionEnd(function(){k.el.removeClass("exposing")},this);this.overlay=!0,this.el.one("click",function(){c.mode="default"})},unplug:function(){for(var a,b=this.windows.length;b--;){a=this.windows[b],a.restore(),a.el.css("transform","scale(1)"),a.el.css("transform-origin","50% 50%");var c=function(a){return function(){this.el.removeClass("expose"),a.el.css("transform","")}}(a);this.el.onTransitionEnd(c,this),a.movable=!0,a.enabled=!0}this.overlay=!1},actions:{focus:function(){},close:function(){this.mode="expose"},select:function(a){this.mode="default",a.focus()}}};return b}),d("ventus/wm/modes/fullscreen",[],function(){"use strict";var a={register:function(){console.log("Fullscreen mode registered.")},plug:function(){this.el.addClass("fullscreen");for(var a,b=0,c=this.windows.length;b<c;b++)a=this.windows[b],a.move(0,0),a.el.css("-webkit-transform","translate3d(0, 0, 0);"),a.resize(this.el.width(),this.el.height())},unplug:function(){for(var a,b=this.windows.length;b--;){a=this.windows[b],a.restore(),a.el.css("transform","scale(1)"),a.el.css("transform-origin","50% 50%");var c=function(a){return function(){this.el.removeClass("fullscreen"),a.el.css("transform","")}}(a);this.el.onTransitionEnd(c,this),a.movable=!0,a.resizable=!0,a.enabled=!0}this.overlay=!1},actions:{focus:function(){},close:function(){this.mode="expose"},select:function(a){this.mode="default",a.focus()}}};return a}),d("ventus/wm/windowmanager",["$","ventus/wm/window","ventus/core/view","ventus/wm/modes/default","ventus/wm/modes/expose","ventus/wm/modes/fullscreen"],function(a,b,c,d,e,f){"use strict";var g=function(){this.el=c('<div class="wm-space"><div class="wm-overlay" /></div>'),a(document.body).prepend(this.el),this.$overlay=this.el.find(".wm-overlay"),this.$overlay.css("z-index",this._baseZ-1),this.actions.forEach(function(a){this[a]=function(a){return function(){this.currentMode.actions[a]&&this.currentMode.actions[a].apply(this,arguments)}}.call(this,a)},this);for(var b in this.modes)this.modes.hasOwnProperty(b)&&this.modes[b].register&&this.modes[b].register.apply(this);this.windows=[],this.active=null,this.mode="default",this.createWindow.fromQuery=this.createWindow.fromQuery.bind(this),this.createWindow.fromElement=this.createWindow.fromElement.bind(this)};return g.prototype={actions:["focus","blur","close","maximize","minimize","restore","select"],modes:{default:d,expose:e,fullscreen:f},set mode(a){var b=this.modes[a];b&&this._mode!==a&&(this._mode&&this.currentMode.unplug&&this.currentMode.unplug.apply(this),b.plug&&b.plug.apply(this),this._mode=a)},get mode(){return this._mode},get currentMode(){return this.modes[this._mode]},set overlay(a){this.$overlay.css("opacity",a?.8:0),this._overlay=a},get overlay(){return this._overlay},createWindow:function(a){var c=new b(a);return this.mode="default",c.signals.on("focus",this._focus,this),c.signals.on("blur",this._blur,this),c.signals.on("close",this._close,this),this.actions.forEach(function(a){c.signals.on(a,this[a],this)},this),this.windows.push(c),c.space=this.el,c.focus(),c},_focus:function(a){var b,e,c=1e4,d=c+1e4;if(!this.active||this.active!==a){if(this.active?(b=this.active.z,this.active.blur()):b=c,e=this.windows.indexOf(a),this.windows.splice(e,1),this.windows.push(a),a.z=b+1,b>d+this.windows.length)for(var f,g=this.windows.length;g--;)f=this.windows[g].z,this.windows[g].z=c+(f-d);this.active=a}},_blur:function(a){this.active===a&&(this.active=null)},_close:function(a){var c,b=this.windows.indexOf(a);return b===-1?void console.log("Trying to close a window that doesn't exist in this window manager"):(this.windows.splice(b,1),c=this.windows.length,void(this.active&&this.active===a&&(this.active=0!==c?this.windows[c-1]:null,this.active&&this.active.focus())))}},g.prototype.createWindow.fromQuery=function(a,b){return b.content=c(a),this.createWindow(b)},g.prototype.createWindow.fromElement=function(a,b){return b.content=c(a),this.createWindow(b)},g}),d("ventus",["require","exports","module","ventus/wm/windowmanager","ventus/wm/window"],function(a){"use strict";return{version:"0.2",browser:{animationEventName:function(){var a=document.body.style,b=null;return""===a.animation?b="animationend":""===a.MozAnimation?b="mozAnimationEnd":""===a.webkitAnimation&&(b="webkitAnimationEnd"),b}},WindowManager:a("ventus/wm/windowmanager"),Window:a("ventus/wm/window")}}),d("src/main",["almond","handlebars","ventus"],function(){}),d("$",function(){return a}),d("underscore",function(){return _}),c("ventus")});