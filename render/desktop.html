<!doctype html>
<html>
<head>

    <title>Desktop</title>
    <meta charset="utf-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">

    <link href="./styles/core.css" rel="stylesheet">
    <link href="./styles/desktop.css" rel="stylesheet">
    <link href="./styles/toolbar.css" rel="stylesheet">
    <link href="./styles/app-launcher.css" rel="stylesheet">
    <link href="./styles/window.css" rel="stylesheet">
    <link href="./styles/notifications.css" rel="stylesheet">
    <link href="./styles/context-menu.css" rel="stylesheet">

    <style>

        body {
            display: none;
            background: url(../assets/wallpaper.png) no-repeat center center fixed;
        }

    </style>

    <script>

        const $ = require("jquery");
        const moment = require("moment");
        const { remote } = require("electron");

        // Core
        const { WindowManager, Notification, Taskbar, TaskbarItem, ContextMenu } = require("../core/System");

        // Apps
        const { BrowserApp } = require("../apps/Browser/");
        const { TerminalApp } = require("../apps/Terminal/");

        $(() => {
            setTimeout(() => $("body").fadeIn(250), 200);

            const taskbar = new Taskbar(".toolbar");
            const browser = new BrowserApp();
            const terminal = new TerminalApp();

            taskbar.start();

            const browser_app = new TaskbarItem(browser).addApp();
            const terminal_app = new TaskbarItem(terminal).addApp();

            setTimeout(() => {
                new Notification({
                    title: "System",
                    message: "Initialised",
                    image: "../assets/images/system.png"
                });
            }, 700);
        });

    </script>

</head>
<body>

    <!-- Desktop -->
    <div class="desktop"></div>

    <!-- Notifications Container -->
    <div class="notifications pos-top-right" id="breadbox"></div>

    <!-- App Launcher -->
    <div class="launcher">
        <div class="sidebar">
            <div class="user">

            </div>
            <div class="actions">

            </div>
        </div>
        <div class="apps">
            
        </div>
    </div>

    <!-- Toolbar/Taskbar/Dock -->
    <div class="toolbar transparent"></div>

    <!-- Debug Reload -->
    <script>
        document.addEventListener("keyup", (e) => {
            if (e.keyCode === 116) {
                location.reload();
            }
        });
    </script>

</body>
</html>
