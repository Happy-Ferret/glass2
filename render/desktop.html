<!doctype html>
<html>
<head>

    <meta charset="utf-8">
    <title>Desktop</title>
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width">
    <link href="../system/design/core.css" rel="stylesheet">
    <link href="../system/design/desktop.css" rel="stylesheet">
    <link href="../system/design/ventus.css" rel="stylesheet">
    <link href="../system/design/toolbar.css" rel="stylesheet">
    <link href="../system/design/notifications.css" rel="stylesheet">

    <link href="../node_modules/angular-material/angular-material.min.css" rel="stylesheet">
    <link href="../node_modules/jquery-ui-dist/jquery-ui.min.css" rel="stylesheet">

    <script src="../node_modules/angular/angular.js"></script>
    <script src="../node_modules/angular-aria/angular-aria.js"></script>
    <script src="../node_modules/angular-animate/angular-animate.js"></script>
    <script src="../node_modules/angular-material/angular-material.js"></script>
    <script src="../node_modules/angular-material-icons/angular-material-icons.js"></script>

    <style>

        body {
            display: none;
            background: url(../users/kurisu/wallpaper.png) no-repeat center center fixed;
        }

    </style>

    <script>
        window.$ = window.jQuery = require("jquery");
        window._ = require("lodash");

        require("../system/core/ventus");

        const Ventus = window.Ventus;
        const remote = require("electron").remote;
        const moment = require("moment");

        angular.module("desktop", ["ngMaterial", "ngMdIcons"])
            .controller("desktop", ($scope) => { });

        $(() => {
            window.wm = new Ventus.WindowManager();
            const Window = require("../core/window");

            setTimeout(() => $("body").fadeIn(250), 200);
            setInterval(() => $("#clock").text(moment().format("h:mm A")), 150);

            $("#app_browser").on("click", () => {
                new Window({
                    title: "Browser",
                    size: [1152, 648]
                });
            });
        });
    </script>

</head>
<body class="desktop" ng-app="desktop" ng-controller="desktop" ng-cloak>

    <div class="notifications">
        <div class="notification">
            <div class="app" style="color:#7289DA;">
                <img src="https://discordapp.com/assets/f8389ca1a741a115313bede9ac02e2c0.svg"> Discord
            </div>
            <div class="content">
                <div class="message">
                    <div class="title">アリス</div>
                    <div class="text">あたしのかわいいの後輩はどこ！？</div>
                </div>
                <div class="image">
                    <img src="http://kurisubrooks.com/noutify/kaori.png">
                </div>
            </div>
        </div>
    </div>

    <div class="toolbar">
        <ul class="apps">
            <li id="app_launcher"><i class="material-icons">apps</i></li>
            <li id="app_browser"><img src="../system/images/chrome.png"></li>
        </ul>

        <ul class="tray">
            <li id="clock">__:__</li>
            <li id="user"><img id="userprofile" src="../users/kurisu/avatar.png"></li>
        </ul>
    </div>

</body>
</html>
